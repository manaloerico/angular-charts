@use '@angular/material' as mat;
@use './colors/cyan-themed-colors' as cyan-themed-colors;
@include mat.core();
@include mat.elevation-classes();
@include mat.app-background();


@mixin export-chart-vars($theme) {
    --chart-primary: #{mat.get-theme-color($theme, primary)};
    --chart-accent: #{mat.get-theme-color($theme, accent)};
    --chart-warn: #{mat.get-theme-color($theme, warn)};
    --chart-foreground: #{mat.get-theme-color($theme, foreground, base)};
}


// Common palettes
$primary: mat.m2-define-palette(mat.$m2-indigo-palette);
$accent: mat.m2-define-palette(mat.$m2-pink-palette);
$warn: mat.m2-define-palette(mat.$m2-red-palette);

// 1. Indigo / Pink (default Material theme)
$indigo-pink-theme: mat.m2-define-light-theme((color: (primary: $primary, accent: $accent, warn: $warn),
            typography: mat.m2-define-typography-config(),
            density: 0,
        ));

// 2. Deep Purple / Amber
$deeppurple-amber-theme: mat.m2-define-light-theme((color: (primary: mat.m2-define-palette(mat.$m2-deep-purple-palette),
                accent: mat.m2-define-palette(mat.$m2-amber-palette),
                warn: $warn,
            ),
        ));

// 3. Pink / Blue Grey (popular dark theme)
$pink-bluegrey-theme: mat.m2-define-dark-theme((color: (primary: mat.m2-define-palette(mat.$m2-pink-palette),
                accent: mat.m2-define-palette(mat.$m2-blue-grey-palette),
                warn: $warn,
            ),
        ));

// 4. Purple / Green
$purple-green-theme: mat.m2-define-dark-theme((color: (primary: mat.m2-define-palette(mat.$m2-purple-palette),
                accent: mat.m2-define-palette(mat.$m2-green-palette),
                warn: $warn,
            ),
        ));


// 5. Cyan / Orange
$cyan-orange-theme: mat.m2-define-dark-theme((color: (primary: mat.m2-define-palette(mat.$m2-cyan-palette),
                accent: mat.m2-define-palette(mat.$m2-orange-palette),
                warn: $warn,
            ),
        ));

$my-primary: mat.m2-define-palette(cyan-themed-colors.$primary-palette);
$my-accent: mat.m2-define-palette(cyan-themed-colors.$tertiary-palette);
$my-warn: mat.m2-define-palette(cyan-themed-colors.$primary-palette, 40);


$cyan-expanded-theme: mat.m2-define-light-theme((color: (primary: $my-primary, accent: $my-accent, warn: $my-warn),
            typography: mat.m2-define-typography-config(),
            density: 0,
        ));


// Apply one default (Indigo / Pink)
@include mat.all-component-themes($indigo-pink-theme);


// Scoped classes for runtime switching
.indigo-pink-theme {
    @include mat.all-component-colors($indigo-pink-theme);

    @include export-chart-vars($indigo-pink-theme);
}

.deeppurple-amber-theme {
    @include mat.all-component-colors($deeppurple-amber-theme);

    @include export-chart-vars($deeppurple-amber-theme);
}

.pink-bluegrey-theme {
    @include mat.all-component-colors($pink-bluegrey-theme);

    @include export-chart-vars($pink-bluegrey-theme);
}

.purple-green-theme {
    @include mat.all-component-colors($purple-green-theme);

    @include export-chart-vars($purple-green-theme);
}


.cyan-orange-theme {
    @include mat.all-component-colors($cyan-orange-theme);

    @include export-chart-vars($cyan-orange-theme);
}


.cyan-themed-theme {


    @include mat.all-component-themes($cyan-expanded-theme);
    @include export-chart-vars($cyan-expanded-theme);

}

// Apply default Angular Material theming to dialogs
.finance-dialog-container {
    // Use Material's core theming, this ensures all dialogs inherit default v16 theme
    @include mat.elevation-classes();
    @include mat.app-background();
    @include mat.all-component-themes(mat.m2-define-light-theme((color: (primary: mat.m2-define-palette(mat.$m2-indigo-palette),
                    accent: mat.m2-define-palette(mat.$m2-pink-palette),
                ))));
}